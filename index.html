<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Goalie Save Percentage Dashboard</title>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" />
    <script src="https://cdn.plot.ly/plotly-2.32.0.min.js"></script>
    <style>
      :root {
        color-scheme: light dark;
        --bg: #0f172a;
        --bg-panel: rgba(15, 23, 42, 0.75);
        --bg-light: #f8fafc;
        --border: rgba(148, 163, 184, 0.35);
        --text: #0f172a;
        --text-muted: #475569;
        --accent: #2563eb;
        font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      }

      body {
        margin: 0;
        padding: 0;
        background: linear-gradient(160deg, #020617, #0f172a 55%, #1e293b);
        color: white;
        min-height: 100vh;
      }

      .page {
        max-width: 1200px;
        margin: 0 auto;
        padding: 2.5rem 1.5rem 4rem;
        display: flex;
        flex-direction: column;
        gap: 2.5rem;
      }

      header {
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
      }

      header h1 {
        font-size: clamp(1.75rem, 4vw, 2.75rem);
        margin: 0;
        letter-spacing: -0.02em;
      }

      header p {
        margin: 0;
        color: rgba(226, 232, 240, 0.85);
        max-width: 60ch;
      }

      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 1rem;
      }

      .stat-card {
        background: rgba(15, 23, 42, 0.6);
        border: 1px solid var(--border);
        border-radius: 16px;
        padding: 1.25rem 1.4rem;
        backdrop-filter: blur(8px);
      }

      .stat-card h2 {
        font-size: 0.9rem;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        margin: 0 0 0.25rem;
        color: rgba(148, 163, 184, 0.85);
      }

      .stat-card span {
        font-size: 1.8rem;
        font-weight: 600;
      }

      .panel {
        background: rgba(15, 23, 42, 0.65);
        border: 1px solid var(--border);
        border-radius: 18px;
        padding: 1.5rem;
        box-shadow: 0 25px 45px rgba(15, 23, 42, 0.45);
        backdrop-filter: blur(12px);
      }

      .panel h2 {
        margin-top: 0;
        font-size: 1.3rem;
        margin-bottom: 1rem;
      }

      .controls {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
        margin-bottom: 1rem;
      }

      .controls label {
        font-size: 0.9rem;
        display: flex;
        flex-direction: column;
        gap: 0.35rem;
        color: rgba(226, 232, 240, 0.9);
      }

      .controls select,
      .controls input {
        min-width: 240px;
        padding: 0.6rem 0.75rem;
        border-radius: 12px;
        border: 1px solid rgba(148, 163, 184, 0.35);
        background-color: rgba(15, 23, 42, 0.7);
        color: white;
        font-size: 0.95rem;
      }

      .controls button {
        align-self: flex-end;
        padding: 0.6rem 1.1rem;
        border-radius: 12px;
        border: none;
        background: linear-gradient(120deg, rgba(59, 130, 246, 0.9), rgba(99, 102, 241, 0.85));
        color: white;
        font-weight: 600;
        cursor: pointer;
        transition: transform 0.15s ease, box-shadow 0.15s ease;
      }

      .controls button:hover {
        transform: translateY(-1px);
        box-shadow: 0 15px 30px rgba(59, 130, 246, 0.35);
      }

      #savepct-chart {
        width: 100%;
        min-height: 480px;
        touch-action: pan-y pinch-zoom;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 1rem;
        font-size: 0.95rem;
      }

      thead {
        text-transform: uppercase;
        font-size: 0.75rem;
        letter-spacing: 0.08em;
        color: rgba(148, 163, 184, 0.8);
      }

      th, td {
        padding: 0.65rem 0.5rem;
        text-align: left;
        border-bottom: 1px solid rgba(148, 163, 184, 0.2);
      }

      tbody tr:hover {
        background-color: rgba(148, 163, 184, 0.12);
      }

      th.sortable {
        cursor: pointer;
      }

      th.sortable::after {
        content: '\25B4\25BE';
        margin-left: 0.35rem;
        font-size: 0.75rem;
        opacity: 0.45;
      }

      .empty-state {
        margin: 1.5rem 0 0;
        color: rgba(226, 232, 240, 0.7);
      }

      @media (max-width: 768px) {
        .controls label {
          width: 100%;
        }
        .controls button {
          width: 100%;
        }
        .controls select,
        .controls input {
          min-width: 0;
          width: 100%;
        }
      }

      @media (max-width: 640px) {
        .page {
          padding: 2rem 1rem 3rem;
        }

        .panel {
          padding: 1.25rem 1rem 1.5rem;
        }

        .stat-card {
          padding: 1rem 1.1rem;
        }

        #savepct-chart {
          min-height: 360px;
        }
      }
    </style>
  </head>
  <body>
    <div class="page">
      <header>
        <h1>Goalie Save Percentage Dashboard</h1>
        <p>Explore how every goalie performs throughout the season. Filter by team, search for a specific goalie, and inspect a sortable table with the latest cumulative numbers.</p>
      </header>

      <section class="stats-grid">
        <article class="stat-card">
          <h2>Teams tracked</h2>
          <span>12</span>
        </article>
        <article class="stat-card">
          <h2>Goalies tracked</h2>
          <span>21</span>
        </article>
        <article class="stat-card">
          <h2>Match coverage</h2>
          <span>2000-01-01 → 2000-02-01</span>
        </article>
        <article class="stat-card">
          <h2>Zero-shot goalies</h2>
          <span>10</span>
        </article>
      </section>

      <section class="panel">
        <h2>Season timeline</h2>
        <div class="controls">
          <label>
            Team filter
            <select id="team-filter">
              <option value="ALL">All teams</option>
              <option value="FBC Partille">FBC Partille</option><option value="Fagerhult Habo IBK">Fagerhult Habo IBK</option><option value="Floda IBK">Floda IBK</option><option value="Fristads GoIF">Fristads GoIF</option><option value="IBF Backadalen">IBF Backadalen</option><option value="IBK Alingsås">IBK Alingsås</option><option value="IBK Göteborg">IBK Göteborg</option><option value="IBK Kungälv">IBK Kungälv</option><option value="IBK Lidköping">IBK Lidköping</option><option value="Mullsjö AIS Utveckling">Mullsjö AIS Utveckling</option><option value="Pixbo IBF">Pixbo IBF</option><option value="Särö IBK">Särö IBK</option>
            </select>
          </label>
          <label>
            Highlight goalie
            <input id="goalie-search" type="search" placeholder="Search goalie name…" />
          </label>
          <button id="reset-view" type="button">Reset view</button>
        </div>
        <div>                            <div id="savepct-chart" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("savepct-chart")) {                    Plotly.newPlot(                        "savepct-chart",                        [{"customdata":[["IBK G\u00f6teborg","1570521",0,0],["IBK G\u00f6teborg","1570527",5,7],["IBK G\u00f6teborg","1570533",5,7],["IBK G\u00f6teborg","1570539",5,7],["IBK G\u00f6teborg","1570545",19,29]],"hovertemplate":"Goalie=Martinus Martinsson (21 \u00e5r)\u003cbr\u003eDate=%{x}\u003cbr\u003eCumulative Save %=%{y:.1%}\u003cbr\u003eteam=%{customdata[0]}\u003cbr\u003egame_id=%{customdata[1]}\u003cbr\u003ecumulative_saves=%{customdata[2]}\u003cbr\u003ecumulative_shots=%{customdata[3]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Martinus Martinsson (21 \u00e5r)","line":{"color":"#636efa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Martinus Martinsson (21 \u00e5r)","orientation":"v","showlegend":true,"x":["2000-01-01T00:00:00.000000000","2000-01-07T00:00:00.000000000","2000-01-13T00:00:00.000000000","2000-01-19T00:00:00.000000000","2000-01-25T00:00:00.000000000"],"xaxis":"x","y":[null,0.7142857142857143,0.7142857142857143,0.7142857142857143,0.6551724137931034],"yaxis":"y","type":"scatter"},{"customdata":[["IBK G\u00f6teborg","1570521",18,23],["IBK G\u00f6teborg","1570527",28,40],["IBK G\u00f6teborg","1570533",28,40],["IBK G\u00f6teborg","1570539",28,40],["IBK G\u00f6teborg","1570545",28,40]],"hovertemplate":"Goalie=Oskar Adler (31 \u00e5r)\u003cbr\u003eDate=%{x}\u003cbr\u003eCumulative Save %=%{y:.1%}\u003cbr\u003eteam=%{customdata[0]}\u003cbr\u003egame_id=%{customdata[1]}\u003cbr\u003ecumulative_saves=%{customdata[2]}\u003cbr\u003ecumulative_shots=%{customdata[3]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Oskar Adler (31 \u00e5r)","line":{"color":"#EF553B","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Oskar Adler (31 \u00e5r)","orientation":"v","showlegend":true,"x":["2000-01-01T00:00:00.000000000","2000-01-07T00:00:00.000000000","2000-01-13T00:00:00.000000000","2000-01-19T00:00:00.000000000","2000-01-25T00:00:00.000000000"],"xaxis":"x","y":[0.782608695652174,0.7,0.7,0.7,0.7],"yaxis":"y","type":"scatter"},{"customdata":[["Fristads GoIF","1570521",15,17],["Fristads GoIF","1570531",55,60],["Fristads GoIF","1570534",55,60],["Fristads GoIF","1570541",70,80],["Fristads GoIF","1570548",70,80]],"hovertemplate":"Goalie=Erik Christoffersson (22 \u00e5r)\u003cbr\u003eDate=%{x}\u003cbr\u003eCumulative Save %=%{y:.1%}\u003cbr\u003eteam=%{customdata[0]}\u003cbr\u003egame_id=%{customdata[1]}\u003cbr\u003ecumulative_saves=%{customdata[2]}\u003cbr\u003ecumulative_shots=%{customdata[3]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Erik Christoffersson (22 \u00e5r)","line":{"color":"#00cc96","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Erik Christoffersson (22 \u00e5r)","orientation":"v","showlegend":true,"x":["2000-01-01T00:00:00.000000000","2000-01-11T00:00:00.000000000","2000-01-14T00:00:00.000000000","2000-01-21T00:00:00.000000000","2000-01-28T00:00:00.000000000"],"xaxis":"x","y":[0.8823529411764706,0.9166666666666666,0.9166666666666666,0.875,0.875],"yaxis":"y","type":"scatter"},{"customdata":[["IBK Kung\u00e4lv","1570522",0,0],["IBK Kung\u00e4lv","1570528",0,0],["IBK Kung\u00e4lv","1570540",0,0],["IBK Kung\u00e4lv","1570546",26,35]],"hovertemplate":"Goalie=Johan Svensson (30 \u00e5r)\u003cbr\u003eDate=%{x}\u003cbr\u003eCumulative Save %=%{y:.1%}\u003cbr\u003eteam=%{customdata[0]}\u003cbr\u003egame_id=%{customdata[1]}\u003cbr\u003ecumulative_saves=%{customdata[2]}\u003cbr\u003ecumulative_shots=%{customdata[3]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Johan Svensson (30 \u00e5r)","line":{"color":"#ab63fa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Johan Svensson (30 \u00e5r)","orientation":"v","showlegend":true,"x":["2000-01-02T00:00:00.000000000","2000-01-08T00:00:00.000000000","2000-01-20T00:00:00.000000000","2000-01-26T00:00:00.000000000"],"xaxis":"x","y":[null,null,null,0.7428571428571429],"yaxis":"y","type":"scatter"},{"customdata":[["IBK Kung\u00e4lv","1570522",0,0],["IBK Kung\u00e4lv","1570528",33,44],["IBK Kung\u00e4lv","1570534",33,44],["IBK Kung\u00e4lv","1570540",49,70],["IBK Kung\u00e4lv","1570546",49,70]],"hovertemplate":"Goalie=Johan Ljungberg (29 \u00e5r)\u003cbr\u003eDate=%{x}\u003cbr\u003eCumulative Save %=%{y:.1%}\u003cbr\u003eteam=%{customdata[0]}\u003cbr\u003egame_id=%{customdata[1]}\u003cbr\u003ecumulative_saves=%{customdata[2]}\u003cbr\u003ecumulative_shots=%{customdata[3]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Johan Ljungberg (29 \u00e5r)","line":{"color":"#FFA15A","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Johan Ljungberg (29 \u00e5r)","orientation":"v","showlegend":true,"x":["2000-01-02T00:00:00.000000000","2000-01-08T00:00:00.000000000","2000-01-14T00:00:00.000000000","2000-01-20T00:00:00.000000000","2000-01-26T00:00:00.000000000"],"xaxis":"x","y":[null,0.75,0.75,0.7,0.7],"yaxis":"y","type":"scatter"},{"customdata":[["Fagerhult Habo IBK","1570522",0,0],["Fagerhult Habo IBK","1570532",6,9],["Fagerhult Habo IBK","1570533",6,9],["Fagerhult Habo IBK","1570542",6,9],["Fagerhult Habo IBK","1570547",15,19]],"hovertemplate":"Goalie=Alvin Eckert (18 \u00e5r)\u003cbr\u003eDate=%{x}\u003cbr\u003eCumulative Save %=%{y:.1%}\u003cbr\u003eteam=%{customdata[0]}\u003cbr\u003egame_id=%{customdata[1]}\u003cbr\u003ecumulative_saves=%{customdata[2]}\u003cbr\u003ecumulative_shots=%{customdata[3]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Alvin Eckert (18 \u00e5r)","line":{"color":"#19d3f3","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Alvin Eckert (18 \u00e5r)","orientation":"v","showlegend":true,"x":["2000-01-02T00:00:00.000000000","2000-01-12T00:00:00.000000000","2000-01-13T00:00:00.000000000","2000-01-22T00:00:00.000000000","2000-01-27T00:00:00.000000000"],"xaxis":"x","y":[null,0.6666666666666666,0.6666666666666666,0.6666666666666666,0.7894736842105263],"yaxis":"y","type":"scatter"},{"customdata":[["Fagerhult Habo IBK","1570522",0,0],["Fagerhult Habo IBK","1570532",0,0],["Fagerhult Habo IBK","1570533",0,0],["Fagerhult Habo IBK","1570542",8,13],["Fagerhult Habo IBK","1570547",8,13]],"hovertemplate":"Goalie=Johan Ringqvist (27 \u00e5r)\u003cbr\u003eDate=%{x}\u003cbr\u003eCumulative Save %=%{y:.1%}\u003cbr\u003eteam=%{customdata[0]}\u003cbr\u003egame_id=%{customdata[1]}\u003cbr\u003ecumulative_saves=%{customdata[2]}\u003cbr\u003ecumulative_shots=%{customdata[3]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Johan Ringqvist (27 \u00e5r)","line":{"color":"#FF6692","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Johan Ringqvist (27 \u00e5r)","orientation":"v","showlegend":true,"x":["2000-01-02T00:00:00.000000000","2000-01-12T00:00:00.000000000","2000-01-13T00:00:00.000000000","2000-01-22T00:00:00.000000000","2000-01-27T00:00:00.000000000"],"xaxis":"x","y":[null,null,null,0.6153846153846154,0.6153846153846154],"yaxis":"y","type":"scatter"},{"customdata":[["S\u00e4r\u00f6 IBK","1570523",0,0],["S\u00e4r\u00f6 IBK","1570529",0,0],["S\u00e4r\u00f6 IBK","1570535",0,0],["S\u00e4r\u00f6 IBK","1570541",24,32],["S\u00e4r\u00f6 IBK","1570547",37,52],["S\u00e4r\u00f6 IBK","1570552",37,52]],"hovertemplate":"Goalie=Simon Kure (22 \u00e5r)\u003cbr\u003eDate=%{x}\u003cbr\u003eCumulative Save %=%{y:.1%}\u003cbr\u003eteam=%{customdata[0]}\u003cbr\u003egame_id=%{customdata[1]}\u003cbr\u003ecumulative_saves=%{customdata[2]}\u003cbr\u003ecumulative_shots=%{customdata[3]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Simon Kure (22 \u00e5r)","line":{"color":"#B6E880","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Simon Kure (22 \u00e5r)","orientation":"v","showlegend":true,"x":["2000-01-03T00:00:00.000000000","2000-01-09T00:00:00.000000000","2000-01-15T00:00:00.000000000","2000-01-21T00:00:00.000000000","2000-01-27T00:00:00.000000000","2000-02-01T00:00:00.000000000"],"xaxis":"x","y":[null,null,null,0.75,0.7115384615384616,0.7115384615384616],"yaxis":"y","type":"scatter"},{"customdata":[["Pixbo IBF","1570523",0,0],["Pixbo IBF","1570527",21,26],["Pixbo IBF","1570536",43,52],["Pixbo IBF","1570543",64,78],["Pixbo IBF","1570550",64,78]],"hovertemplate":"Goalie=Elmer Arne (18 \u00e5r)\u003cbr\u003eDate=%{x}\u003cbr\u003eCumulative Save %=%{y:.1%}\u003cbr\u003eteam=%{customdata[0]}\u003cbr\u003egame_id=%{customdata[1]}\u003cbr\u003ecumulative_saves=%{customdata[2]}\u003cbr\u003ecumulative_shots=%{customdata[3]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Elmer Arne (18 \u00e5r)","line":{"color":"#FF97FF","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Elmer Arne (18 \u00e5r)","orientation":"v","showlegend":true,"x":["2000-01-03T00:00:00.000000000","2000-01-07T00:00:00.000000000","2000-01-16T00:00:00.000000000","2000-01-23T00:00:00.000000000","2000-01-30T00:00:00.000000000"],"xaxis":"x","y":[null,0.8076923076923077,0.8269230769230769,0.8205128205128205,0.8205128205128205],"yaxis":"y","type":"scatter"},{"customdata":[["FBC Partille","1570524",11,14],["FBC Partille","1570530",29,36],["FBC Partille","1570536",48,61],["FBC Partille","1570542",59,78],["FBC Partille","1570548",59,78]],"hovertemplate":"Goalie=Robin Pagoldh (25 \u00e5r)\u003cbr\u003eDate=%{x}\u003cbr\u003eCumulative Save %=%{y:.1%}\u003cbr\u003eteam=%{customdata[0]}\u003cbr\u003egame_id=%{customdata[1]}\u003cbr\u003ecumulative_saves=%{customdata[2]}\u003cbr\u003ecumulative_shots=%{customdata[3]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Robin Pagoldh (25 \u00e5r)","line":{"color":"#FECB52","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Robin Pagoldh (25 \u00e5r)","orientation":"v","showlegend":true,"x":["2000-01-04T00:00:00.000000000","2000-01-10T00:00:00.000000000","2000-01-16T00:00:00.000000000","2000-01-22T00:00:00.000000000","2000-01-28T00:00:00.000000000"],"xaxis":"x","y":[0.7857142857142857,0.8055555555555556,0.7868852459016393,0.7564102564102564,0.7564102564102564],"yaxis":"y","type":"scatter"},{"customdata":[["IBK Lidk\u00f6ping","1570524",21,27],["IBK Lidk\u00f6ping","1570528",21,27],["IBK Lidk\u00f6ping","1570535",21,27],["IBK Lidk\u00f6ping","1570544",21,27],["IBK Lidk\u00f6ping","1570549",45,56]],"hovertemplate":"Goalie=Liam Eriksson (17 \u00e5r)\u003cbr\u003eDate=%{x}\u003cbr\u003eCumulative Save %=%{y:.1%}\u003cbr\u003eteam=%{customdata[0]}\u003cbr\u003egame_id=%{customdata[1]}\u003cbr\u003ecumulative_saves=%{customdata[2]}\u003cbr\u003ecumulative_shots=%{customdata[3]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Liam Eriksson (17 \u00e5r)","line":{"color":"#636efa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Liam Eriksson (17 \u00e5r)","orientation":"v","showlegend":true,"x":["2000-01-04T00:00:00.000000000","2000-01-08T00:00:00.000000000","2000-01-15T00:00:00.000000000","2000-01-24T00:00:00.000000000","2000-01-29T00:00:00.000000000"],"xaxis":"x","y":[0.7777777777777778,0.7777777777777778,0.7777777777777778,0.7777777777777778,0.8035714285714286],"yaxis":"y","type":"scatter"},{"customdata":[["IBF Backadalen","1570525",24,29],["IBF Backadalen","1570531",42,56],["IBF Backadalen","1570543",61,81]],"hovertemplate":"Goalie=Oscar Larsson (21 \u00e5r)\u003cbr\u003eDate=%{x}\u003cbr\u003eCumulative Save %=%{y:.1%}\u003cbr\u003eteam=%{customdata[0]}\u003cbr\u003egame_id=%{customdata[1]}\u003cbr\u003ecumulative_saves=%{customdata[2]}\u003cbr\u003ecumulative_shots=%{customdata[3]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Oscar Larsson (21 \u00e5r)","line":{"color":"#EF553B","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Oscar Larsson (21 \u00e5r)","orientation":"v","showlegend":true,"x":["2000-01-05T00:00:00.000000000","2000-01-11T00:00:00.000000000","2000-01-23T00:00:00.000000000"],"xaxis":"x","y":[0.8275862068965517,0.75,0.7530864197530864],"yaxis":"y","type":"scatter"},{"customdata":[["IBF Backadalen","1570525",0,0],["IBF Backadalen","1570531",0,0],["IBF Backadalen","1570537",0,0],["IBF Backadalen","1570543",10,14],["IBF Backadalen","1570549",10,14]],"hovertemplate":"Goalie=Kasper Landstr\u00f6m (19 \u00e5r)\u003cbr\u003eDate=%{x}\u003cbr\u003eCumulative Save %=%{y:.1%}\u003cbr\u003eteam=%{customdata[0]}\u003cbr\u003egame_id=%{customdata[1]}\u003cbr\u003ecumulative_saves=%{customdata[2]}\u003cbr\u003ecumulative_shots=%{customdata[3]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Kasper Landstr\u00f6m (19 \u00e5r)","line":{"color":"#00cc96","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Kasper Landstr\u00f6m (19 \u00e5r)","orientation":"v","showlegend":true,"x":["2000-01-05T00:00:00.000000000","2000-01-11T00:00:00.000000000","2000-01-17T00:00:00.000000000","2000-01-23T00:00:00.000000000","2000-01-29T00:00:00.000000000"],"xaxis":"x","y":[null,null,null,0.7142857142857143,0.7142857142857143],"yaxis":"y","type":"scatter"},{"customdata":[["Mullsj\u00f6 AIS Utveckling","1570525",11,19],["Mullsj\u00f6 AIS Utveckling","1570539",11,19]],"hovertemplate":"Goalie=David Vik (29 \u00e5r)\u003cbr\u003eDate=%{x}\u003cbr\u003eCumulative Save %=%{y:.1%}\u003cbr\u003eteam=%{customdata[0]}\u003cbr\u003egame_id=%{customdata[1]}\u003cbr\u003ecumulative_saves=%{customdata[2]}\u003cbr\u003ecumulative_shots=%{customdata[3]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"David Vik (29 \u00e5r)","line":{"color":"#ab63fa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"David Vik (29 \u00e5r)","orientation":"v","showlegend":true,"x":["2000-01-05T00:00:00.000000000","2000-01-19T00:00:00.000000000"],"xaxis":"x","y":[0.5789473684210527,0.5789473684210527],"yaxis":"y","type":"scatter"},{"customdata":[["Mullsj\u00f6 AIS Utveckling","1570525",0,0],["Mullsj\u00f6 AIS Utveckling","1570529",0,0],["Mullsj\u00f6 AIS Utveckling","1570538",0,0],["Mullsj\u00f6 AIS Utveckling","1570539",16,22],["Mullsj\u00f6 AIS Utveckling","1570546",38,52]],"hovertemplate":"Goalie=Elliot J\u00e4rn (19 \u00e5r)\u003cbr\u003eDate=%{x}\u003cbr\u003eCumulative Save %=%{y:.1%}\u003cbr\u003eteam=%{customdata[0]}\u003cbr\u003egame_id=%{customdata[1]}\u003cbr\u003ecumulative_saves=%{customdata[2]}\u003cbr\u003ecumulative_shots=%{customdata[3]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Elliot J\u00e4rn (19 \u00e5r)","line":{"color":"#FFA15A","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Elliot J\u00e4rn (19 \u00e5r)","orientation":"v","showlegend":true,"x":["2000-01-05T00:00:00.000000000","2000-01-09T00:00:00.000000000","2000-01-18T00:00:00.000000000","2000-01-19T00:00:00.000000000","2000-01-26T00:00:00.000000000"],"xaxis":"x","y":[null,null,null,0.7272727272727273,0.7307692307692307],"yaxis":"y","type":"scatter"},{"customdata":[["Floda IBK","1570526",18,20],["Floda IBK","1570532",36,46],["Floda IBK","1570538",36,46],["Floda IBK","1570544",36,46]],"hovertemplate":"Goalie=Phoenix Wigilius (19 \u00e5r)\u003cbr\u003eDate=%{x}\u003cbr\u003eCumulative Save %=%{y:.1%}\u003cbr\u003eteam=%{customdata[0]}\u003cbr\u003egame_id=%{customdata[1]}\u003cbr\u003ecumulative_saves=%{customdata[2]}\u003cbr\u003ecumulative_shots=%{customdata[3]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Phoenix Wigilius (19 \u00e5r)","line":{"color":"#19d3f3","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Phoenix Wigilius (19 \u00e5r)","orientation":"v","showlegend":true,"x":["2000-01-06T00:00:00.000000000","2000-01-12T00:00:00.000000000","2000-01-18T00:00:00.000000000","2000-01-24T00:00:00.000000000"],"xaxis":"x","y":[0.9,0.782608695652174,0.782608695652174,0.782608695652174],"yaxis":"y","type":"scatter"},{"customdata":[["Floda IBK","1570526",0,0],["Floda IBK","1570544",29,37],["Floda IBK","1570550",29,37]],"hovertemplate":"Goalie=Joel Andersson (18 \u00e5r)\u003cbr\u003eDate=%{x}\u003cbr\u003eCumulative Save %=%{y:.1%}\u003cbr\u003eteam=%{customdata[0]}\u003cbr\u003egame_id=%{customdata[1]}\u003cbr\u003ecumulative_saves=%{customdata[2]}\u003cbr\u003ecumulative_shots=%{customdata[3]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Joel Andersson (18 \u00e5r)","line":{"color":"#FF6692","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Joel Andersson (18 \u00e5r)","orientation":"v","showlegend":true,"x":["2000-01-06T00:00:00.000000000","2000-01-24T00:00:00.000000000","2000-01-30T00:00:00.000000000"],"xaxis":"x","y":[null,0.7837837837837838,0.7837837837837838],"yaxis":"y","type":"scatter"},{"customdata":[["IBK Alings\u00e5s","1570526",17,22],["IBK Alings\u00e5s","1570530",19,30],["IBK Alings\u00e5s","1570537",19,30],["IBK Alings\u00e5s","1570540",36,50],["IBK Alings\u00e5s","1570545",36,50]],"hovertemplate":"Goalie=Vincent Sohlstr\u00f6m (32 \u00e5r)\u003cbr\u003eDate=%{x}\u003cbr\u003eCumulative Save %=%{y:.1%}\u003cbr\u003eteam=%{customdata[0]}\u003cbr\u003egame_id=%{customdata[1]}\u003cbr\u003ecumulative_saves=%{customdata[2]}\u003cbr\u003ecumulative_shots=%{customdata[3]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Vincent Sohlstr\u00f6m (32 \u00e5r)","line":{"color":"#B6E880","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Vincent Sohlstr\u00f6m (32 \u00e5r)","orientation":"v","showlegend":true,"x":["2000-01-06T00:00:00.000000000","2000-01-10T00:00:00.000000000","2000-01-17T00:00:00.000000000","2000-01-20T00:00:00.000000000","2000-01-25T00:00:00.000000000"],"xaxis":"x","y":[0.7727272727272727,0.6333333333333333,0.6333333333333333,0.72,0.72],"yaxis":"y","type":"scatter"},{"customdata":[["IBK Alings\u00e5s","1570526",0,0],["IBK Alings\u00e5s","1570530",4,10],["IBK Alings\u00e5s","1570537",17,32],["IBK Alings\u00e5s","1570540",17,32],["IBK Alings\u00e5s","1570545",17,32]],"hovertemplate":"Goalie=Albin Fl\u00f6jner (21 \u00e5r)\u003cbr\u003eDate=%{x}\u003cbr\u003eCumulative Save %=%{y:.1%}\u003cbr\u003eteam=%{customdata[0]}\u003cbr\u003egame_id=%{customdata[1]}\u003cbr\u003ecumulative_saves=%{customdata[2]}\u003cbr\u003ecumulative_shots=%{customdata[3]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Albin Fl\u00f6jner (21 \u00e5r)","line":{"color":"#FF97FF","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Albin Fl\u00f6jner (21 \u00e5r)","orientation":"v","showlegend":true,"x":["2000-01-06T00:00:00.000000000","2000-01-10T00:00:00.000000000","2000-01-17T00:00:00.000000000","2000-01-20T00:00:00.000000000","2000-01-25T00:00:00.000000000"],"xaxis":"x","y":[null,0.4,0.53125,0.53125,0.53125],"yaxis":"y","type":"scatter"},{"customdata":[["IBK Lidk\u00f6ping","1570528",31,38],["IBK Lidk\u00f6ping","1570535",31,38],["IBK Lidk\u00f6ping","1570544",48,60],["IBK Lidk\u00f6ping","1570549",48,60]],"hovertemplate":"Goalie=Emil Lundberg (25 \u00e5r)\u003cbr\u003eDate=%{x}\u003cbr\u003eCumulative Save %=%{y:.1%}\u003cbr\u003eteam=%{customdata[0]}\u003cbr\u003egame_id=%{customdata[1]}\u003cbr\u003ecumulative_saves=%{customdata[2]}\u003cbr\u003ecumulative_shots=%{customdata[3]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Emil Lundberg (25 \u00e5r)","line":{"color":"#FECB52","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Emil Lundberg (25 \u00e5r)","orientation":"v","showlegend":true,"x":["2000-01-08T00:00:00.000000000","2000-01-15T00:00:00.000000000","2000-01-24T00:00:00.000000000","2000-01-29T00:00:00.000000000"],"xaxis":"x","y":[0.8157894736842105,0.8157894736842105,0.8,0.8],"yaxis":"y","type":"scatter"},{"customdata":[["IBF Backadalen","1570537",35,43],["IBF Backadalen","1570549",89,97]],"hovertemplate":"Goalie=Lukas K\u00e4llstr\u00f6m (25 \u00e5r)\u003cbr\u003eDate=%{x}\u003cbr\u003eCumulative Save %=%{y:.1%}\u003cbr\u003eteam=%{customdata[0]}\u003cbr\u003egame_id=%{customdata[1]}\u003cbr\u003ecumulative_saves=%{customdata[2]}\u003cbr\u003ecumulative_shots=%{customdata[3]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Lukas K\u00e4llstr\u00f6m (25 \u00e5r)","line":{"color":"#636efa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Lukas K\u00e4llstr\u00f6m (25 \u00e5r)","orientation":"v","showlegend":true,"x":["2000-01-17T00:00:00.000000000","2000-01-29T00:00:00.000000000"],"xaxis":"x","y":[0.813953488372093,0.9175257731958762],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Date"},"rangeslider":{"visible":true}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Cumulative Save %"},"tickformat":".0%","rangemode":"tozero"},"legend":{"title":{"text":"Goalie"},"tracegroupgap":0},"margin":{"t":60},"title":{"text":"Goalie cumulative save percentage over time"},"hovermode":"x unified","annotations":[{"align":"left","bgcolor":"rgba(0,0,0,0.04)","bordercolor":"rgba(0,0,0,0.2)","borderwidth":1,"font":{"size":12},"showarrow":false,"text":"\u003cb\u003eFiltered (0 shots):\u003c\u002fb\u003e\u003cbr\u003e\u2022 Adrian Moghaddam (16 \u00e5r)\u003cbr\u003e\u2022 Albin Lidefelt (16 \u00e5r)\u003cbr\u003e\u2022 Anton Fogelberg (15 \u00e5r)\u003cbr\u003e\u2022 Hampus Eriksson (21 \u00e5r)\u003cbr\u003e\u2022 Helge W\u00e5rfors (20 \u00e5r)\u003cbr\u003e\u2022 Isaac Evans (18 \u00e5r)\u003cbr\u003e\u2022 Isak Dorell (22 \u00e5r)\u003cbr\u003e\u2022 Kalle Lundgren (25 \u00e5r)\u003cbr\u003e\u2022 Lauritz Brunborg (17 \u00e5r)\u003cbr\u003e\u2022 Samuel L\u00f6wenmo (17 \u00e5r)","x":1.0,"xanchor":"right","xref":"paper","y":1.0,"yanchor":"top","yref":"paper"}]},                        {"displaylogo": false, "responsive": true, "modeBarButtonsToRemove": ["lasso2d", "select2d"]}                    )                };            </script>        </div>
        <p class="empty-state">Filtered goalies with zero recorded shots: Adrian Moghaddam (16 år), Albin Lidefelt (16 år), Anton Fogelberg (15 år), Hampus Eriksson (21 år), Helge Wårfors (20 år), Isaac Evans (18 år), Isak Dorell (22 år), Kalle Lundgren (25 år), Lauritz Brunborg (17 år), Samuel Löwenmo (17 år)</p>
      </section>

      <section class="panel">
        <h2>Sortable goalie table</h2>
        <table>
          <thead>
            <tr>
              <th class="sortable" data-key="team">Team</th>
              <th class="sortable" data-key="goalie">Goalie</th>
              <th class="sortable" data-key="games_played">Games</th>
              <th class="sortable" data-key="total_shots">Shots</th>
              <th class="sortable" data-key="total_saves">Saves</th>
              <th class="sortable" data-key="goals_against">Goals Against</th>
              <th class="sortable" data-key="avg_shots_per_game">Avg Shots/Game</th>
              <th class="sortable" data-key="final_save_pct">Cumulative Save%</th>
            </tr>
          </thead>
          <tbody id="summary-table-body"></tbody>
        </table>
        <p class="empty-state" id="table-empty" hidden>No goalies match the current filters.</p>
      </section>
    </div>

    <script>
      const summaryData = [{"team": "FBC Partille", "goalie": "Robin Pagoldh (25 år)", "games_played": 5, "total_shots": 78, "total_saves": 59, "goals_against": 19, "final_save_pct": 0.7564102564102564, "avg_shots_per_game": 15.6, "save_pct_display": "75.6%"}, {"team": "Fagerhult Habo IBK", "goalie": "Alvin Eckert (18 år)", "games_played": 5, "total_shots": 19, "total_saves": 15, "goals_against": 4, "final_save_pct": 0.7894736842105263, "avg_shots_per_game": 3.8, "save_pct_display": "78.9%"}, {"team": "Fagerhult Habo IBK", "goalie": "Johan Ringqvist (27 år)", "games_played": 5, "total_shots": 13, "total_saves": 8, "goals_against": 5, "final_save_pct": 0.6153846153846154, "avg_shots_per_game": 2.6, "save_pct_display": "61.5%"}, {"team": "Floda IBK", "goalie": "Joel Andersson (18 år)", "games_played": 3, "total_shots": 37, "total_saves": 29, "goals_against": 8, "final_save_pct": 0.7837837837837838, "avg_shots_per_game": 12.333333333333334, "save_pct_display": "78.4%"}, {"team": "Floda IBK", "goalie": "Phoenix Wigilius (19 år)", "games_played": 4, "total_shots": 46, "total_saves": 36, "goals_against": 10, "final_save_pct": 0.782608695652174, "avg_shots_per_game": 11.5, "save_pct_display": "78.3%"}, {"team": "Fristads GoIF", "goalie": "Erik Christoffersson (22 år)", "games_played": 5, "total_shots": 80, "total_saves": 70, "goals_against": 10, "final_save_pct": 0.875, "avg_shots_per_game": 16.0, "save_pct_display": "87.5%"}, {"team": "IBF Backadalen", "goalie": "Kasper Landström (19 år)", "games_played": 5, "total_shots": 14, "total_saves": 10, "goals_against": 4, "final_save_pct": 0.7142857142857143, "avg_shots_per_game": 2.8, "save_pct_display": "71.4%"}, {"team": "IBF Backadalen", "goalie": "Lukas Källström (25 år)", "games_played": 2, "total_shots": 97, "total_saves": 89, "goals_against": 8, "final_save_pct": 0.9175257731958762, "avg_shots_per_game": 48.5, "save_pct_display": "91.8%"}, {"team": "IBF Backadalen", "goalie": "Oscar Larsson (21 år)", "games_played": 3, "total_shots": 81, "total_saves": 61, "goals_against": 20, "final_save_pct": 0.7530864197530864, "avg_shots_per_game": 27.0, "save_pct_display": "75.3%"}, {"team": "IBK Alingsås", "goalie": "Albin Flöjner (21 år)", "games_played": 5, "total_shots": 32, "total_saves": 17, "goals_against": 15, "final_save_pct": 0.53125, "avg_shots_per_game": 6.4, "save_pct_display": "53.1%"}, {"team": "IBK Alingsås", "goalie": "Vincent Sohlström (32 år)", "games_played": 5, "total_shots": 50, "total_saves": 36, "goals_against": 14, "final_save_pct": 0.72, "avg_shots_per_game": 10.0, "save_pct_display": "72.0%"}, {"team": "IBK Göteborg", "goalie": "Martinus Martinsson (21 år)", "games_played": 5, "total_shots": 29, "total_saves": 19, "goals_against": 10, "final_save_pct": 0.6551724137931034, "avg_shots_per_game": 5.8, "save_pct_display": "65.5%"}, {"team": "IBK Göteborg", "goalie": "Oskar Adler (31 år)", "games_played": 5, "total_shots": 40, "total_saves": 28, "goals_against": 12, "final_save_pct": 0.7, "avg_shots_per_game": 8.0, "save_pct_display": "70.0%"}, {"team": "IBK Kungälv", "goalie": "Johan Ljungberg (29 år)", "games_played": 5, "total_shots": 70, "total_saves": 49, "goals_against": 21, "final_save_pct": 0.7, "avg_shots_per_game": 14.0, "save_pct_display": "70.0%"}, {"team": "IBK Kungälv", "goalie": "Johan Svensson (30 år)", "games_played": 4, "total_shots": 35, "total_saves": 26, "goals_against": 9, "final_save_pct": 0.7428571428571429, "avg_shots_per_game": 8.75, "save_pct_display": "74.3%"}, {"team": "IBK Lidköping", "goalie": "Emil Lundberg (25 år)", "games_played": 4, "total_shots": 60, "total_saves": 48, "goals_against": 12, "final_save_pct": 0.8, "avg_shots_per_game": 15.0, "save_pct_display": "80.0%"}, {"team": "IBK Lidköping", "goalie": "Liam Eriksson (17 år)", "games_played": 5, "total_shots": 56, "total_saves": 45, "goals_against": 11, "final_save_pct": 0.8035714285714286, "avg_shots_per_game": 11.2, "save_pct_display": "80.4%"}, {"team": "Mullsjö AIS Utveckling", "goalie": "David Vik (29 år)", "games_played": 2, "total_shots": 19, "total_saves": 11, "goals_against": 8, "final_save_pct": 0.5789473684210527, "avg_shots_per_game": 9.5, "save_pct_display": "57.9%"}, {"team": "Mullsjö AIS Utveckling", "goalie": "Elliot Järn (19 år)", "games_played": 5, "total_shots": 52, "total_saves": 38, "goals_against": 14, "final_save_pct": 0.7307692307692307, "avg_shots_per_game": 10.4, "save_pct_display": "73.1%"}, {"team": "Pixbo IBF", "goalie": "Elmer Arne (18 år)", "games_played": 5, "total_shots": 78, "total_saves": 64, "goals_against": 14, "final_save_pct": 0.8205128205128205, "avg_shots_per_game": 15.6, "save_pct_display": "82.1%"}, {"team": "Särö IBK", "goalie": "Simon Kure (22 år)", "games_played": 6, "total_shots": 52, "total_saves": 37, "goals_against": 15, "final_save_pct": 0.7115384615384616, "avg_shots_per_game": 8.666666666666666, "save_pct_display": "71.2%"}];
      const goalieToTeam = {"Albin Flöjner (21 år)": "IBK Alingsås", "Alvin Eckert (18 år)": "Fagerhult Habo IBK", "David Vik (29 år)": "Mullsjö AIS Utveckling", "Elliot Järn (19 år)": "Mullsjö AIS Utveckling", "Elmer Arne (18 år)": "Pixbo IBF", "Emil Lundberg (25 år)": "IBK Lidköping", "Erik Christoffersson (22 år)": "Fristads GoIF", "Joel Andersson (18 år)": "Floda IBK", "Johan Ljungberg (29 år)": "IBK Kungälv", "Johan Ringqvist (27 år)": "Fagerhult Habo IBK", "Johan Svensson (30 år)": "IBK Kungälv", "Kasper Landström (19 år)": "IBF Backadalen", "Liam Eriksson (17 år)": "IBK Lidköping", "Lukas Källström (25 år)": "IBF Backadalen", "Martinus Martinsson (21 år)": "IBK Göteborg", "Oscar Larsson (21 år)": "IBF Backadalen", "Oskar Adler (31 år)": "IBK Göteborg", "Phoenix Wigilius (19 år)": "Floda IBK", "Robin Pagoldh (25 år)": "FBC Partille", "Simon Kure (22 år)": "Särö IBK", "Vincent Sohlström (32 år)": "IBK Alingsås"};
      const traceGoalies = ["Martinus Martinsson (21 år)", "Oskar Adler (31 år)", "Erik Christoffersson (22 år)", "Johan Svensson (30 år)", "Johan Ljungberg (29 år)", "Alvin Eckert (18 år)", "Johan Ringqvist (27 år)", "Simon Kure (22 år)", "Elmer Arne (18 år)", "Robin Pagoldh (25 år)", "Liam Eriksson (17 år)", "Oscar Larsson (21 år)", "Kasper Landström (19 år)", "David Vik (29 år)", "Elliot Järn (19 år)", "Phoenix Wigilius (19 år)", "Joel Andersson (18 år)", "Vincent Sohlström (32 år)", "Albin Flöjner (21 år)", "Emil Lundberg (25 år)", "Lukas Källström (25 år)"];

      function renderTable(rows) {
        const tbody = document.getElementById('summary-table-body');
        tbody.innerHTML = '';
        if (!rows.length) {
          document.getElementById('table-empty').hidden = false;
          return;
        }
        document.getElementById('table-empty').hidden = true;
        const fragment = document.createDocumentFragment();
        rows.forEach((row) => {
          const tr = document.createElement('tr');
          tr.innerHTML = `
            <td>${row.team || 'Unknown'}</td>
            <td>${row.goalie}</td>
            <td>${row.games_played}</td>
            <td>${row.total_shots}</td>
            <td>${row.total_saves}</td>
            <td>${row.goals_against}</td>
            <td>${(row.avg_shots_per_game || 0).toFixed(1)}</td>
            <td>${row.save_pct_display || '–'}</td>`;
          fragment.appendChild(tr);
        });
        tbody.appendChild(fragment);
      }

      function currentFilters() {
        return {
          team: document.getElementById('team-filter').value,
          search: document.getElementById('goalie-search').value.trim().toLowerCase(),
        };
      }

      function applyFilters(data) {
        const { team, search } = currentFilters();
        return data.filter((row) => {
          const matchesTeam = team === 'ALL' || (row.team || 'Unknown') === team;
          const matchesSearch = !search || row.goalie.toLowerCase().includes(search);
          return matchesTeam && matchesSearch;
        });
      }

      function updateChartLayout() {
        const chart = document.getElementById('savepct-chart');
        if (!chart || !chart.layout) {
          return;
        }

        const baseLegend = chart.layout.legend || {};
        const baseLegendTitle = baseLegend.title || {};
        const xaxisBase = chart.layout.xaxis || {};
        const yaxisBase = chart.layout.yaxis || {};

        const isNarrow = window.matchMedia('(max-width: 768px)').matches;
        const isCompact = window.matchMedia('(max-width: 480px)').matches;
        const legendYOffset = isNarrow ? (isCompact ? -0.5 : -0.35) : 1;

        const legend = {
          ...baseLegend,
          orientation: isNarrow ? 'h' : baseLegend.orientation ?? 'v',
          x: 0,
          xanchor: 'left',
          y: legendYOffset,
          yanchor: isNarrow ? 'top' : (baseLegend.yanchor ?? 'top'),
          font: {
            ...(baseLegend.font || {}),
            size: isNarrow ? 11 : (baseLegend.font?.size ?? 12),
          },
        };

        if (baseLegend.title && baseLegend.title.text) {
          legend.title = {
            ...baseLegendTitle,
            text: baseLegend.title.text,
            font: {
              ...(baseLegendTitle.font || {}),
              size: isNarrow ? 12 : (baseLegendTitle.font?.size ?? 12),
            },
          };
        }

        const layoutUpdate = {
          autosize: true,
          height: isNarrow ? (isCompact ? 360 : 420) : 560,
          margin: {
            t: 60,
            r: isNarrow ? 12 : 32,
            l: isNarrow ? 48 : 70,
            b: isNarrow ? (isCompact ? 120 : 96) : 70,
          },
          legend,
          xaxis: {
            ...xaxisBase,
            automargin: true,
            tickangle: isNarrow ? -45 : (xaxisBase.tickangle ?? 0),
            tickfont: {
              ...(xaxisBase.tickfont || {}),
              size: isNarrow ? 10 : (xaxisBase.tickfont?.size ?? 12),
            },
          },
          yaxis: {
            ...yaxisBase,
            automargin: true,
            tickfont: {
              ...(yaxisBase.tickfont || {}),
              size: isNarrow ? 10 : (yaxisBase.tickfont?.size ?? 12),
            },
          },
        };

        Plotly.relayout(chart, layoutUpdate);
        Plotly.Plots.resize(chart);
      }

      function restyleChart() {
        const { team, search } = currentFilters();
        traceGoalies.forEach((goalie, index) => {
          const teamMatch = team === 'ALL' || goalieToTeam[goalie] === team;
          const searchMatch = !search || goalie.toLowerCase().includes(search);
          const visible = teamMatch && searchMatch;
          Plotly.restyle('savepct-chart', { visible: visible ? true : 'legendonly' }, [index]);
        });
        updateChartLayout();
      }

      function sortBy(key, ascending) {
        return (a, b) => {
          const av = a[key] ?? (typeof a[key] === 'number' ? 0 : '');
          const bv = b[key] ?? (typeof b[key] === 'number' ? 0 : '');
          if (typeof av === 'number' && typeof bv === 'number') {
            return ascending ? av - bv : bv - av;
          }
          return ascending ? String(av).localeCompare(String(bv)) : String(bv).localeCompare(String(av));
        };
      }

      window.addEventListener('DOMContentLoaded', () => {
        let sortState = { key: 'team', ascending: true };
        renderTable(summaryData.sort(sortBy(sortState.key, sortState.ascending)));
        requestAnimationFrame(updateChartLayout);

        document.getElementById('team-filter').addEventListener('change', () => {
          const filtered = applyFilters(summaryData).sort(sortBy(sortState.key, sortState.ascending));
          renderTable(filtered);
          restyleChart();
        });

        document.getElementById('goalie-search').addEventListener('input', () => {
          const filtered = applyFilters(summaryData).sort(sortBy(sortState.key, sortState.ascending));
          renderTable(filtered);
          restyleChart();
        });

        document.getElementById('reset-view').addEventListener('click', () => {
          sortState = { key: 'team', ascending: true };
          document.getElementById('team-filter').value = 'ALL';
          document.getElementById('goalie-search').value = '';
          renderTable(summaryData.sort(sortBy(sortState.key, sortState.ascending)));
          traceGoalies.forEach((goalie, index) => {
            Plotly.restyle('savepct-chart', { visible: true }, [index]);
          });
          updateChartLayout();
        });

        document.querySelectorAll('th.sortable').forEach((th) => {
          th.addEventListener('click', () => {
            const key = th.dataset.key;
            if (sortState.key === key) {
              sortState.ascending = !sortState.ascending;
            } else {
              sortState = { key, ascending: true };
            }
            const filtered = applyFilters(summaryData).sort(sortBy(sortState.key, sortState.ascending));
            renderTable(filtered);
          });
        });

        Plotly.d3.select('#savepct-chart').on('plotly_doubleclick', () => {
          document.getElementById('reset-view').click();
        });

        window.addEventListener(
          'resize',
          () => {
            requestAnimationFrame(updateChartLayout);
          },
          { passive: true }
        );
      });
    </script>
  </body>
</html>